---
title: Drawing Maps in R
author: Mengran Li
date: '2021-04-01'
slug: []
categories:
  - R
tags: []
authors: [Mengran-Li]
description: ''
featuredImage: ''
lastmod: '2021-04-01T19:20:23+01:00'
series: []
---

There are many packages to draw maps in R. Personally, I prefer to use *leaflet* and *ggplot2*. leaflet is a web application so that we can explore data interactively, and ggplot2 can merge data conveniently.

## ggplot2

The map border can be drawn by *borders()*. Let's look at an example of USA map:

```{r}
library(ggplot2)
library(maps)
ggplot() +
  borders("state")
```

How to add some shapes into the map? If you are familiar with ggplot2, it would be very easy.

Us.cities provides population and location informations of U.S. cities.

```{r}
data(us.cities)
knitr::kable(head(us.cities))
```

Us.cities is dataset of cities of USA. When we draw a map, we need 

Now we want to mark cities with population more than 500,000 in the map:

```{r}
us.cities <- subset(us.cities, pop > 500000)
ggplot(us.cities, aes(x = long, y = lat)) +
  geom_point()+
  borders("state")
```
Of course we can make colour represent population size:

```{r}
us.cities <- subset(us.cities, pop > 500000)
ggplot(us.cities, aes(x = long, y = lat)) +
  geom_point(aes(color = pop))+
  borders("state")
```

If you are not so satisfied with the Coordinate ratio, then:

```{r, warning=FALSE}
library(mapproj)
ggplot(us.cities, aes(x = long, y = lat)) +
  geom_point(aes(color = pop))+
  borders("state")+
  coord_map()
```
It is super suitable for a quick look at data map.

## Leaflet

Leaflet is a very popular tool based on java. It provides R package so that we can also use it.

```{r}
htmltools::includeHTML("F:/Mengran/content/posts/2021-04-01-drawing-maps-in-r/map.html")
```

